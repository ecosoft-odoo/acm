<odoo>

    <record model="ir.ui.view" id="partner_agreement_form_view">
        <field name="name">Agreement Form</field>
        <field name="model">agreement</field>
        <field name="inherit_id" ref="agreement_legal.partner_agreement_form_view"/>
        <field name="arch" type="xml">
            <button name="create_new_agreement" position="after">
                <field name="contract_count" invisible='1'/>
                <button
                    name="create_new_contract"
                    string="Create Contract"
                    type="object"
                    class="oe_highlight"
                    attrs="{'invisible': ['|','|', ('contract_count', '!=', 0), ('state', '=', 'active'), ('is_template', '=', True)]}"
                />

            </button>
            <div name='button_box'>
                <div class="oe_button_box" name="button_box">
                    <button
                        name="action_view_contract"
                        type="object"
                        string="Contract"
                        icon="fa-pencil-square-o"
                        attrs="{'invisible': ['|', ('contract_count', '=', 0), ('is_template', '=', True)]}"
                    />
                </div>
            </div>
            <field name="assigned_user_id" position="after">
                <field name="contract_type" string="Contract type"/>
            </field>
        </field>
    </record>

</odoo>
